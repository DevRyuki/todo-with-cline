# アクティブコンテキスト

## 現在の作業焦点
- Todo基本機能実装
- DBスキーマとAPIエンドポイント開発
- フィーチャーモジュール構造確立
- TDD実践とESLint連携
- 認証機能実装と改善

## 最近の変更
- DBスキーマ定義（Drizzle）
- Todos CRUD API実装
- プロジェクト/ワークスペーススキーマ定義
- フィーチャーベース構造導入
- 認証バックエンド実装（NextAuth）
- パスワードリセット機能実装（Resend）
- 認証UI実装（ログイン/登録/リセット）
- コンポーネント適切分離

## 進行中の作業
- フロントエンドUI開発
- データフェッチング実装
- プロジェクト/ワークスペースAPI実装
- テスト環境改善

## 次のステップ
1. テストファイル型エラー解消最適化
2. Todoリスト表示UI実装
3. Todo作成・編集フォーム開発
4. プロジェクト管理機能実装
5. ワークスペース管理機能実装

## アクティブな決定事項
- **TDD**: テスト→実装→リファクタリングサイクル
- **フィーチャーベース構造**: 機能ごとのコード整理
- **Drizzle ORM**: 型安全SQLクエリビルダー
- **Next.js App Router**: ルーティング/API統合
- **コンポーネント分離**: UI/データ/ロジック分離
- **NextAuth**: 認証システム
- **Resend**: メール送信

## 現在の課題
- DBリレーションシップ最適設計
- 統合テスト戦略
- パフォーマンス最適化
- スケーラビリティ確保
- テスト型エラー解消
- モック型定義改善
- 認証セキュリティ強化
  - パスワード強度ポリシー
  - ユーザー列挙攻撃対策

## 検討中の代替案
- 状態管理: Context vs Redux vs Zustand
- スタイリング: Tailwind vs CSS Modules vs Styled Components
- フォーム: React Hook Form vs Formik

## 重要なメモ
- APIパターン: `/api/[resource]`
- フィーチャーモジュールは独立開発可能に
- UIはレスポンシブ設計
- 認証API:
  - `/api/auth/[...nextauth]`
  - `/api/auth/register`
  - `/api/auth/forgot-password`
  - `/api/auth/reset-password`
- モック型定義は`jest.d.ts`で管理
- パスワードは独立テーブルで管理
